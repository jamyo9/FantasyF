<ion-header>
  <ion-navbar>
    <ion-buttons left>
        <button ion-button menuToggle>
        <ion-icon name="menu"></ion-icon>
      </button>
    </ion-buttons>
    <ion-title>News</ion-title>
  </ion-navbar>
</ion-header>
    
<ion-content padding>
  <ion-toolbar>
    <form (ngSubmit)="createNew()" #createNewForm="ngForm">
      <ion-item>
        <ion-label color="primary" stacked>Enter New</ion-label>
        <ion-input type="text" placeholder="Create a new..." name="text" [(ngModel)]="newToCreate.text"></ion-input>
        <button ion-button item-right icon-only type="submit" [disabled]="!createNewForm.valid"><!--Disabled not working-->
          <ion-icon name="create"></ion-icon>
        </button>
      </ion-item>
    </form>
  </ion-toolbar>

  <ion-list>
    <ion-card *ngFor="let new of news">
      <ion-item>
        <h2>{{new.writter.name}}</h2>
        <p>{{new.date | date: 'dd/MM/yyyy H:mm:ss' }}</p>
      </ion-item>
      <ion-card-content>
        <p>{{new.text}}</p>
      </ion-card-content>
    </ion-card>
  </ion-list>

  <ion-infinite-scroll (ionInfinite)="doInfinite($event)" threshold="100px">
    <ion-infinite-scroll-content
      loadingSpinner="bubbles"
      loadingText="Loading more data...">
    </ion-infinite-scroll-content>
  </ion-infinite-scroll>
</ion-content>